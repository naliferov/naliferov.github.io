import{r as f,s as a,aB as b}from"./runtime-core.esm-bundler-CYxvy_wc.js";const g={__name:"sequencer",setup(y){const o=globalThis.x;new Tone.Synth().toDestination();const r=ref(null),l=ref(null);let t=null;const p=n=>{if(n.key!=="Enter")return;const e=o.getByName(l.value.value.trim());e&&(t=e,console.log(t))};t&&o.updateObject({repoName:"sys",objectId:t.id,data:{sequence:[]}});const d=()=>{t&&o.updateObject({repoName:"sys",objectId:t.id,data:[]})};return onMounted(()=>{const n=o.kvRepo.get("sequenceObjectName");n&&(l.value=n);const e=document.createElement("div");Object.assign(e.style,{display:"flex",flexDirection:"column",gap:"2px"}),r.value.append(e);const m=["C1","C#1","D1","D#1","E1","F1","F#1","G1","G#1","A1","A#1","B1","C2","C#2","D2","D#2"];for(let u=0;u<m.length;u++){const s=document.createElement("div");Object.assign(s.style,{display:"flex",gap:"2px"}),e.append(s);for(let i=0;i<16;i++){const c=document.createElement("div");c.className="cell",s.append(c),c.addEventListener("click",v=>{d()})}}}),(n,e)=>(b(),f("div",{ref_key:"dom",ref:r},[a("input",{ref_key:"inputDom",ref:l,onKeyup:p},null,544),e[0]||(e[0]=a("br",null,null,-1)),e[1]||(e[1]=a("br",null,null,-1))],512))}};export{g as default};
